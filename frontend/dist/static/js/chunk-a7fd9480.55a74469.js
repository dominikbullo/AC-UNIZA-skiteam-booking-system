(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7fd9480"],{"12c3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-family-list"}},[a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.paginationPageSize-(e.paginationPageSize-1))+" - "+e._s(e.familyMembers.length-e.currentPage*e.paginationPageSize>0?e.currentPage*e.paginationPageSize:e.familyMembers.length)+" of "+e._s(e.familyMembers.length))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(10)}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(20)}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(50)}}},[a("span",[e._v("50")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(100)}}},[a("span",[e._v("100")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),a("vs-button",{directives:[{name:"show",rawName:"v-show",value:e.$acl.check("editor"),expression:"$acl.check('editor')"}],staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-2 sm:mt-0 mt-4",attrs:{icon:"icon-plus","icon-pack":"feather"},on:{click:function(t){e.activePrompt=!0}}},[e._v("\n        "+e._s(e.$t("AddChild"))+"\n      ")]),a("vs-prompt",{attrs:{active:e.activePrompt,"is-valid":e.validateForm,"accept-text":"Add Child","button-cancel":"border",title:"Add Child"},on:{"update:active":function(t){e.activePrompt=t},accept:e.addChild}},[a("div",[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|min:3",expression:"'required|alpha_dash|min:3'"}],staticClass:"w-full mt-6",attrs:{"label-placeholder":e.$t("Name"),placeholder:e.$t("Name"),"data-vv-validate-on":"blur",name:"name",type:"text"},model:{value:e.childData.first_name,callback:function(t){e.$set(e.childData,"first_name",t)},expression:"childData.first_name"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.first_name")))])],1),a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|min:3",expression:"'required|alpha_dash|min:3'"}],staticClass:"w-full mt-6",attrs:{"label-placeholder":e.$t("Surname"),placeholder:e.$t("Surname"),"data-vv-validate-on":"blur",name:"email",type:"text"},model:{value:e.childData.last_name,callback:function(t){e.$set(e.childData,"last_name",t)},expression:"childData.last_name"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.first_name")))])],1)]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|min:3",expression:"'required|alpha_dash|min:3'"}],staticClass:"w-full mt-6",attrs:{"label-placeholder":e.$t("Username"),placeholder:e.$t("Username"),"data-vv-validate-on":"blur",name:"email",type:"text"},model:{value:e.childData.username,callback:function(t){e.$set(e.childData,"username",t)},expression:"childData.username"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.first_name")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],staticClass:"w-full mt-6",attrs:{"label-placeholder":e.$t("Email"),placeholder:e.$t("Email"),"data-vv-validate-on":"blur",name:"email",type:"email"},model:{value:e.childData.email,callback:function(t){e.$set(e.childData,"email",t)},expression:"childData.email"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.email")))]),a("label",{staticStyle:{"font-size":"10px"}},[e._v(e._s(e.$t("BirthDate")))]),a("flat-pickr",{staticClass:"w-full",attrs:{config:{dateFormat:"d.m.Y",maxDate:(new Date).fp_incr(14)}},model:{value:e.childData.profile.birth_date,callback:function(t){e.$set(e.childData.profile,"birth_date",t)},expression:"childData.profile.birth_date"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.profile.birth_date")))]),a("div",[a("label",{staticStyle:{"font-size":"10px"}},[e._v(e._s(e.$t("Gender")))]),a("div",{staticClass:"demo-alignment mb-base"},[a("vs-radio",{staticClass:"mt-2",attrs:{"vs-value":"M"},model:{value:e.childData.profile.gender,callback:function(t){e.$set(e.childData.profile,"gender",t)},expression:" childData.profile.gender"}},[e._v(e._s(e.$t("Male"))+"\n                    ")]),a("vs-radio",{staticClass:"mt-2",attrs:{"vs-value":"F"},model:{value:e.childData.profile.gender,callback:function(t){e.$set(e.childData.profile,"gender",t)},expression:"childData.profile.gender"}},[e._v(e._s(e.$t("Female"))+"\n                    ")])],1)]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],ref:"password",staticClass:"w-full mt-6",attrs:{"label-placeholder":e.$t("Password"),placeholder:e.$t("Password"),"data-vv-validate-on":"blur",name:"password",type:"password"},model:{value:e.childData.password1,callback:function(t){e.$set(e.childData,"password1",t)},expression:"childData.password1"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.password1")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"min:6|confirmed:password",expression:"'min:6|confirmed:password'"}],staticClass:"w-full mt-6",attrs:{"label-placeholder":e.$t("ConfirmPassword"),placeholder:e.$t("ConfirmPassword"),"data-vv-as":"password","data-vv-validate-on":"blur",name:"confirm_password",type:"password"},model:{value:e.childData.password2,callback:function(t){e.$set(e.childData,"password2",t)},expression:"childData.password2"}}),a("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("childData.password2")))])],1)])])])]),a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-3 shadow-drop rounded-lg  d-theme-dark-light-bg cursor-pointer flex items-end justify-center text-lg font-medium w-32"},[a("span",{staticClass:"mr-2 leading-none"},[e._v("Actions")]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"TrashIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("Delete")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"ArchiveIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("Archive")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"FileIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("Print")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"SaveIcon",svgClasses:"h-4 w-4"}}),a("span",[e._v("CSV")])],1)])],1)],1)],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{animateRows:!0,columnDefs:e.columnDefs,components:e.components,defaultColDef:e.defaultColDef,enableRtl:e.$vs.rtl,floatingFilter:!0,gridOptions:e.gridOptions,pagination:!0,paginationPageSize:e.paginationPageSize,rowData:e.familyMembers,suppressPaginationPanel:!0,colResizeDefault:"shift",rowSelection:"multiple"}}),a("vs-pagination",{attrs:{max:7,total:e.totalPages},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])},s=[],r=(a("c5f6"),a("f9fa")),l=(a("f751"),a("401be")),n=(a("4e06"),a("4a7a")),o=a.n(n),c=a("767b"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex items-center"},[a("vs-avatar",{staticClass:"flex-shrink-0 mr-2",attrs:{src:e.params.data.avatar,size:"30px"},on:{click:function(t){return e.$router.push(e.url)}}}),a("router-link",{staticClass:"text-inherit hover:text-primary",attrs:{to:e.url},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(e._s(e.params.value))])],1)},u=[],m={name:"CellRendererLink",computed:{url:function(){return"/apps/user/user-view/".concat(this.params.data.id)}}},p=m,f=a("2877"),h=Object(f["a"])(p,d,u,!1,null,null,null),v=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-chip",{staticClass:"ag-grid-cell-chip",attrs:{color:e.chipColor(e.params.value)}},[a("span",[e._v(e._s(e.params.value))])])},w=[],C={name:"CellRendererStatus",computed:{chipColor:function(){return function(e){return"active"===e?"success":"blocked"===e?"danger":"deactivated"===e?"warning":"primary"}}}},_=C,x=(a("6020"),Object(f["a"])(_,g,w,!1,null,null,null)),b=x.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("feather-icon",{attrs:{icon:"CircleIcon",svgClasses:["fill-current h-4 w-4",e.textColor]}})},$=[],y={name:"CellRendererVerified",computed:{textColor:function(){return this.params.value?"text-primary":"text-grey"}}},k=y,P=Object(f["a"])(k,D,$,!1,null,null,null),S=P.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{direction:e.$vs.rtl?"rtl":"ltr"}},[a("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:e.editRecord}}),a("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-5 w-5 hover:text-danger cursor-pointer"},on:{click:e.confirmDeleteRecord}})],1)},F=[],R={name:"CellRendererActions",methods:{editRecord:function(){this.$router.push("/apps/user/user-edit/".concat(268)).catch((function(){}))},confirmDeleteRecord:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:'You are about to delete "'.concat(this.params.data.username,'"'),accept:this.deleteRecord,acceptText:"Delete"})},deleteRecord:function(){this.showDeleteSuccess()},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"User Deleted",text:"The selected user was successfully deleted"})}}},N=R,z=Object(f["a"])(N,A,F,!1,null,null,null),M=z.exports,O=a("c38f"),j=a.n(O),I=(a("0952"),{components:{AgGridVue:l["AgGridVue"],flatPickr:j.a,vSelect:o.a,CellRendererLink:v,CellRendererStatus:b,CellRendererVerified:S,CellRendererActions:M},data:function(){return{searchQuery:"",activePrompt:!1,childData:{username:"testsets",email:"tes@tes.sk",password1:"testing321",password2:"testing321",first_name:"testing321",last_name:"testing321",profile:{birth_date:new Date,phone_number:"",location:"",gender:"M"}},gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"ID",field:"id",width:125,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,headerCheckboxSelection:!0},{headerName:"Username",field:"username",filter:!0,width:210,cellRendererFramework:"CellRendererLink"},{headerName:"Email",field:"email",filter:!0,width:210},{headerName:"First Name",field:"first_name",filter:!0,width:200},{headerName:"Surname",field:"last_name",filter:!0,width:200},{headerName:"Role",field:"role",filter:!0,width:150},{headerName:"Verified",field:"verified_email",filter:!0,width:110,cellRendererFramework:"CellRendererVerified",cellClass:"text-center"},{headerName:"Actions",field:"transactions",width:150,cellRendererFramework:"CellRendererActions"}],components:{CellRendererLink:v,CellRendererStatus:b,CellRendererVerified:S,CellRendererActions:M}}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"===e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)}},computed:{familyMembers:function(){return this.$store.state.family.members},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(e){this.gridApi.paginationGoToPage(e-1)}},validateForm:function(){return!this.errors.any()}},methods:{setColumnFilter:function(e,t){var a=this.gridApi.getFilterInstance(e),i=null;"all"!==t&&(i={type:"equals",filter:t}),a.setModel(i),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)},clearFields:function(){Object.assign(this.childData,{username:"",email:"",password1:"",password2:"",first_name:"",last_name:"",profile:{birth_date:new Date,gender:"M"}})},addChild:function(){var e=this;this.$validator.validateAll().then((function(t){t&&e.$store.dispatch("family/addChild",Object.assign({},e.childData)).then((function(){e.clearFields(),e.$vs.notify({color:"success",title:"User Deleted",text:"The selected user was successfully deleted"})})).catch((function(t){e.$vs.loading.close()}))}))},multipleNotify:function(e){for(var t in e)"object"===Object(r["a"])(e[t])?this.multipleNotify(e[t]):this.$vs.notify({title:"Error",text:e[t],iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}},mounted:function(){if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-".concat(String(Number(e.style.transform.slice(11,-3))+9),"px")}},created:function(){c["a"].isRegistered||(this.$store.registerModule("family",c["a"]),c["a"].isRegistered=!0),this.$store.dispatch("family/fetchFamily")}}),q=I,E=Object(f["a"])(q,i,s,!1,null,null,null);t["default"]=E.exports},"4f6f":function(e,t,a){},6020:function(e,t,a){"use strict";var i=a("4f6f"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-a7fd9480.55a74469.js.map